<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Encoded_word (mrmime.Mrmime.Encoded_word)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0-342-g7e488de"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> – <a href="../../index.html">mrmime</a> &#x00BB; <a href="../index.html">Mrmime</a> &#x00BB; Encoded_word</nav><header><h1>Module <code>Mrmime.Encoded_word</code></h1></header><nav class="toc"><ul><li><a href="#decoders.">Decoders.</a></li><li><a href="#encoders.">Encoders.</a></li></ul></nav><div class="content"><aside></aside><div class="spec type" id="type-charset" class="anchored"><a href="#type-charset" class="anchor"></a><code><span class="keyword">type</span> charset = [ </code><table><tr id="type-charset.UTF_8" class="anchored"><td class="def constructor"><a href="#type-charset.UTF_8" class="anchor"></a><code>| </code><code>`UTF_8</code></td></tr><tr id="type-charset.UTF_16" class="anchored"><td class="def constructor"><a href="#type-charset.UTF_16" class="anchor"></a><code>| </code><code>`UTF_16</code></td></tr><tr id="type-charset.UTF_16BE" class="anchored"><td class="def constructor"><a href="#type-charset.UTF_16BE" class="anchor"></a><code>| </code><code>`UTF_16BE</code></td></tr><tr id="type-charset.UTF_16LE" class="anchored"><td class="def constructor"><a href="#type-charset.UTF_16LE" class="anchor"></a><code>| </code><code>`UTF_16LE</code></td></tr><tr id="type-charset.Rosetta.encoding" class="anchored"><td class="def type"><a href="#type-charset.Rosetta.encoding" class="anchor"></a><code>| </code><code><span class="xref-unresolved">Rosetta</span>.encoding</code></td></tr><tr id="type-charset.US_ASCII" class="anchored"><td class="def constructor"><a href="#type-charset.US_ASCII" class="anchor"></a><code>| </code><code>`US_ASCII</code></td></tr><tr id="type-charset.Charset" class="anchored"><td class="def constructor"><a href="#type-charset.Charset" class="anchor"></a><code>| </code><code>`Charset <span class="keyword">of</span> string</code></td></tr></table><code> ]</code></div><div class="spec type" id="type-encoding" class="anchored"><a href="#type-encoding" class="anchor"></a><code><span class="keyword">type</span> encoding = </code><table><tr id="type-encoding.Quoted_printable" class="anchored"><td class="def variant constructor"><a href="#type-encoding.Quoted_printable" class="anchor"></a><code>| <span class="constructor">Quoted_printable</span></code></td></tr><tr id="type-encoding.Base64" class="anchored"><td class="def variant constructor"><a href="#type-encoding.Base64" class="anchor"></a><code>| <span class="constructor">Base64</span></code></td></tr></table></div><div><div class="spec value" id="val-b" class="anchored"><a href="#val-b" class="anchor"></a><code><span class="keyword">val</span> b : <a href="index.html#type-encoding">encoding</a></code></div><div><p>Base64 encoding.</p></div></div><div><div class="spec value" id="val-q" class="anchored"><a href="#val-q" class="anchor"></a><code><span class="keyword">val</span> q : <a href="index.html#type-encoding">encoding</a></code></div><div><p>Inline quoted-printable encoding.</p></div></div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t = {</code><table><tr id="type-t.charset" class="anchored"><td class="def record field"><a href="#type-t.charset" class="anchor"></a><code>charset : <a href="index.html#type-charset">charset</a>;</code></td></tr><tr id="type-t.encoding" class="anchored"><td class="def record field"><a href="#type-t.encoding" class="anchor"></a><code>encoding : <a href="index.html#type-encoding">encoding</a>;</code></td></tr><tr id="type-t.data" class="anchored"><td class="def record field"><a href="#type-t.data" class="anchor"></a><code>data : <span><span>(string, <span class="xref-unresolved">Rresult</span>.R.msg)</span> <span class="xref-unresolved">Stdlib</span>.result</span>;</code></td></tr></table><code>}</code></div><div class="spec value" id="val-is_normalized" class="anchored"><a href="#val-is_normalized" class="anchor"></a><code><span class="keyword">val</span> is_normalized : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></div><div><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <span>encoding:<a href="index.html#type-encoding">encoding</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, <span class="xref-unresolved">Rresult</span>.R.msg)</span> <span class="xref-unresolved">Stdlib</span>.result</span></code></div><div><p><code>make ~encoding x</code> returns an <i>encoded</i> word according <code>encoding</code> (Quoted Printable encoding or Base64 encoding). <code>x</code> must be a valid UTF-8 string. <i>charset</i> of <i>encoded</i> word will be, by the way, <code>&quot;UTF-8&quot;</code>.</p><p>NOTE: If you expect to generate an <i>encoded</i> word with something else than UTF-8 (like latin1), we decided to not handle this case and just produce valid UTF-8 contents in any cases.</p></div></div><div><div class="spec value" id="val-make_exn" class="anchored"><a href="#val-make_exn" class="anchor"></a><code><span class="keyword">val</span> make_exn : <span>encoding:<a href="index.html#type-encoding">encoding</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></div><div><p>Alias of <a href="index.html#val-make"><code>make</code></a> but raises an <code>Invalid_argument</code> if it fails.</p></div></div><aside><p>Accessors.</p></aside><div class="spec value" id="val-encoding" class="anchored"><a href="#val-encoding" class="anchor"></a><code><span class="keyword">val</span> encoding : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-encoding">encoding</a></code></div><div class="spec value" id="val-charset" class="anchored"><a href="#val-charset" class="anchor"></a><code><span class="keyword">val</span> charset : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-charset">charset</a></code></div><div class="spec value" id="val-data" class="anchored"><a href="#val-data" class="anchor"></a><code><span class="keyword">val</span> data : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(string, <span class="xref-unresolved">Rresult</span>.R.msg)</span> <span class="xref-unresolved">Stdlib</span>.result</span></code></div><aside><p>Pretty-printer.</p></aside><div class="spec value" id="val-pp_charset" class="anchored"><a href="#val-pp_charset" class="anchor"></a><code><span class="keyword">val</span> pp_charset : <span><a href="index.html#type-charset">charset</a> <span class="xref-unresolved">Fmt</span>.t</span></code></div><div class="spec value" id="val-pp_encoding" class="anchored"><a href="#val-pp_encoding" class="anchor"></a><code><span class="keyword">val</span> pp_encoding : <span><a href="index.html#type-encoding">encoding</a> <span class="xref-unresolved">Fmt</span>.t</span></code></div><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span><a href="index.html#type-t">t</a> <span class="xref-unresolved">Fmt</span>.t</span></code></div><aside><p>Equal.</p></aside><div class="spec value" id="val-equal_charset" class="anchored"><a href="#val-equal_charset" class="anchor"></a><code><span class="keyword">val</span> equal_charset : <a href="index.html#type-charset">charset</a> <span>&#45;&gt;</span> <a href="index.html#type-charset">charset</a> <span>&#45;&gt;</span> bool</code></div><div class="spec value" id="val-equal_encoding" class="anchored"><a href="#val-equal_encoding" class="anchor"></a><code><span class="keyword">val</span> equal_encoding : <a href="index.html#type-encoding">encoding</a> <span>&#45;&gt;</span> <a href="index.html#type-encoding">encoding</a> <span>&#45;&gt;</span> bool</code></div><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></div><div><div class="spec value" id="val-charset_of_string" class="anchored"><a href="#val-charset_of_string" class="anchor"></a><code><span class="keyword">val</span> charset_of_string : string <span>&#45;&gt;</span> <a href="index.html#type-charset">charset</a></code></div><div><p><code>charset_of_string s</code> returns <i>charset</i> of well-formed charset identifier <code>s</code> (according IANA).</p></div></div><div class="spec value" id="val-charset_to_string" class="anchored"><a href="#val-charset_to_string" class="anchor"></a><code><span class="keyword">val</span> charset_to_string : <a href="index.html#type-charset">charset</a> <span>&#45;&gt;</span> string</code></div><div><div class="spec value" id="val-normalize_to_utf8" class="anchored"><a href="#val-normalize_to_utf8" class="anchor"></a><code><span class="keyword">val</span> normalize_to_utf8 : <span>charset:<a href="index.html#type-charset">charset</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span>(string, <span class="xref-unresolved">Rresult</span>.R.msg)</span> <span class="xref-unresolved">Stdlib</span>.result</span></code></div><div><p><code>normalize_to_utf8 ~charset s</code> maps a source <code>s</code> which is encoded with the charset <a href="index.html#val-charset"><code>charset</code></a> and try to map/normalize it to UTF-8.</p></div></div><div><div class="spec value" id="val-of_string" class="anchored"><a href="#val-of_string" class="anchor"></a><code><span class="keyword">val</span> of_string : string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, <span class="xref-unresolved">Rresult</span>.R.msg)</span> <span class="xref-unresolved">Stdlib</span>.result</span></code></div><div><p><code>of_string v</code> tries to parse <code>v</code> as an encoded-word (according RFC 2047).</p></div></div><h3 id="decoders."><a href="#decoders." class="anchor"></a>Decoders.</h3><div class="spec module" id="module-Decoder" class="anchored"><a href="#module-Decoder" class="anchor"></a><code><span class="keyword">module</span> <a href="Decoder/index.html">Decoder</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><h3 id="encoders."><a href="#encoders." class="anchor"></a>Encoders.</h3><div class="spec module" id="module-Encoder" class="anchored"><a href="#module-Encoder" class="anchor"></a><code><span class="keyword">module</span> <a href="Encoder/index.html">Encoder</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>