<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Phrase (mrmime.Mrmime.Mailbox.Phrase)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">mrmime</a> &#x00BB; <a href="../../index.html">Mrmime</a> &#x00BB; <a href="../index.html">Mailbox</a> &#x00BB; Phrase</nav><h1>Module <code>Mailbox.Phrase</code></h1></header><aside><p>A phrase in the context of the mailbox is a <i>display-name</i> that indicates the name of the recipient. We provide an easily way to make it and keep conformances according standards.</p><pre><code class="ml">let name = Phrase.(v [ w &quot;Daniel&quot;; w &quot;B&quot; ]) ;;
val name : phrase
Phrase.to_string name ;;
- : string = &quot;Daniel B&quot;</code></pre><p>About special encoding/<i>charset</i>, a <code>`Word</code> can store a valid UTF-8 string. Otherwise, you can use an <a href="../../Encoded_word/index.html#type-t"><code>Encoded_word.t</code></a> to keep special characters:</p><pre><code class="ml">let name = Phrase.(v [ w &quot;Daniel&quot;; e ~encoding:q &quot;Bünzli&quot; ]) ;;
- name : phrase
Phrase.to_string name ;;
- &quot;Daniel =?UTF-8?Q?B=C3=BCnzli?=&quot; : string</code></pre><p>NOTE: we accept only valid UTF-8 contents. Other <i>charset</i> (like <code>latin1</code>) are NOT allowed - we can compute them but we choose to never produce them.</p></aside><dl><dt class="spec type" id="type-elt"><a href="#type-elt" class="anchor"></a><code><span class="keyword">type</span> elt</code> = <code>[ </code><table class="variant"><tr id="type-elt.Dot" class="anchored"><td class="def constructor"><a href="#type-elt.Dot" class="anchor"></a><code>| </code><code>`Dot</code></td></tr><tr id="type-elt.Word" class="anchored"><td class="def constructor"><a href="#type-elt.Word" class="anchor"></a><code>| </code><code>`Word <span class="keyword">of</span> Emile.word</code></td></tr><tr id="type-elt.Encoded" class="anchored"><td class="def constructor"><a href="#type-elt.Encoded" class="anchor"></a><code>| </code><code>`Encoded <span class="keyword">of</span> string * Emile.raw</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code><code> = </code><table class="variant"><tr id="type-t.([])" class="anchored"><td class="def constructor"><a href="#type-t.([])" class="anchor"></a><code>| </code><code><span class="constructor">([])</span> : <span><a href="../../../Mrmime__/Peano/index.html#type-z">Mrmime__.Peano.z</a> <a href="index.html#type-t">t</a></span></code></td></tr><tr id="type-t.(::)" class="anchored"><td class="def constructor"><a href="#type-t.(::)" class="anchor"></a><code>| </code><code><span class="constructor">(::)</span> : <a href="index.html#type-elt">elt</a> * <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="../../../Mrmime__/Peano/index.html#type-s">Mrmime__.Peano.s</a></span> <a href="index.html#type-t">t</a></span></code></td><td class="doc"><p>Phrase, according RFC 5322, is a non-empty list of three elements (<a href="index.html#type-elt"><code>elt</code></a>):</p><ul><li><code>`Dot</code> a dot surrounded by space</li><li><code>`Word w</code> a <a href="index.html#val-word"><code>word</code></a></li><li><code>`Encoded e</code> an encoded-word</li></ul></td></tr></table></dt></dl><dl><dt class="spec value" id="val-o"><a href="#val-o" class="anchor"></a><code><span class="keyword">val</span> o : <a href="index.html#type-elt">elt</a></code></dt><dd><p><a href="index.html#val-o"><code>o</code></a> produces a <code>`Dot</code>.</p></dd></dl><dl><dt class="spec value" id="val-w"><a href="#val-w" class="anchor"></a><code><span class="keyword">val</span> w : string <span>&#45;&gt;</span> <a href="index.html#type-elt">elt</a></code></dt><dd><p><a href="index.html#val-w"><code>w</code></a> produces a <b>safe</b> word. <a href="index.html#val-w"><code>w</code></a> will try to escape control characters and verify if contents respects standards. Otherwise, <a href="index.html#val-w"><code>w</code></a> raises an <code>Invalid_argument</code>. <code>`Word</code> produced by <a href="index.html#val-w"><code>w</code></a> can be surrounded by double-quote.</p></dd></dl><dl><dt class="spec value" id="val-e"><a href="#val-e" class="anchor"></a><code><span class="keyword">val</span> e : <span>encoding:<a href="../../Encoded_word/index.html#type-encoding">Encoded_word.encoding</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-elt">elt</a></code></dt><dd><p><a href="index.html#val-e"><code>e</code></a> is an alias of <a href="../../Encoded_word/index.html#val-make_exn"><code>Encoded_word.make_exn</code></a>. About <code>`Encoded</code> word, user can choose the way to encode the word. <a href="index.html#val-b"><code>b</code></a> for a Base64 encoding or <a href="index.html#val-q"><code>q</code></a> for a Quoted-Printable encoding. Both accept <b>only</b> UTF-8 contents - we don't accept any other <i>charset</i>.</p></dd></dl><dl><dt class="spec value" id="val-q"><a href="#val-q" class="anchor"></a><code><span class="keyword">val</span> q : <a href="../../Encoded_word/index.html#type-encoding">Encoded_word.encoding</a></code></dt><dd><p>Quoted-Printable encoding.</p></dd></dl><dl><dt class="spec value" id="val-b"><a href="#val-b" class="anchor"></a><code><span class="keyword">val</span> b : <a href="../../Encoded_word/index.html#type-encoding">Encoded_word.encoding</a></code></dt><dd><p>Base64 encoding.</p></dd></dl><dl><dt class="spec value" id="val-word"><a href="#val-word" class="anchor"></a><code><span class="keyword">val</span> word : string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-elt">elt</a>, <span>[&gt; Rresult.R.msg ]</span>)</span> Stdlib.result</span></code></dt><dd><p><code>word x</code> tries to normalize <code>x</code> as a <code>`Word</code> according RFC 5322. It returns <code>Error</code> if <code>x</code> does not respect standards. If contents is an UTF-8 contents, <code>word</code> will surround <code>x</code> with double-quote and will escape control characters (see <a href="../index.html#val-escape_string"><code>escape_string</code></a>).</p><p>NOTE: UTF-8 is allowed in e-mails according RFC 6532.</p></dd></dl><dl><dt class="spec value" id="val-word_exn"><a href="#val-word_exn" class="anchor"></a><code><span class="keyword">val</span> word_exn : string <span>&#45;&gt;</span> <a href="index.html#type-elt">elt</a></code></dt><dd><p>Same as <a href="index.html#val-word"><code>word</code></a> but raises <code>Invalid_argument</code> instead to return <code>Error</code>.</p></dd></dl><dl><dt class="spec value" id="val-coerce"><a href="#val-coerce" class="anchor"></a><code><span class="keyword">val</span> coerce : <span><span><span class="type-var">'a</span> <a href="../../../Mrmime__/Peano/index.html#type-s">Mrmime__.Peano.s</a></span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> Emile.phrase</code></dt><dd><p><code>coerce l</code> returns a valid and safe <code>phrase</code>.</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(Emile.phrase, <span>[&gt; Rresult.R.msg ]</span>)</span> Stdlib.result</span></code></dt><dd><p><code>make l</code> returns a <code>phrase</code> only if <code>l</code> is a non-empty list.</p></dd></dl><dl><dt class="spec value" id="val-v"><a href="#val-v" class="anchor"></a><code><span class="keyword">val</span> v : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> Emile.phrase</code></dt><dd><p>Same as <a href="index.html#val-make"><code>make</code></a> but raises an exception instead to return <code>Error</code>.</p></dd></dl><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : Emile.phrase <span>&#45;&gt;</span> string</code></dt><dd><p><code>to_string x</code> returns a string which represents <code>x</code> as is it in a e-mails.</p></dd></dl></div></body></html>