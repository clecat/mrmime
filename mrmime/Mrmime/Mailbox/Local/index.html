<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Local (mrmime.Mrmime.Mailbox.Local)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0-342-g7e488de"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> – <a href="../../../index.html">mrmime</a> &#x00BB; <a href="../../index.html">Mrmime</a> &#x00BB; <a href="../index.html">Mailbox</a> &#x00BB; Local</nav><header><h1>Module <code>Mailbox.Local</code></h1></header><div class="content"><aside><p>Local part of a mailbox is a non-empty list of <a href="index.html#val-word"><code>word</code></a> elements. You can construct local-part like this:</p><pre><code>let local = Local.(v [ w &quot;romain&quot;; w &quot;calascibetta&quot; ]) ;;
val local : local = [ `Atom &quot;romain&quot;; `Atom &quot;calascibetta&quot; ]</code></pre><p>Spaces and control characters are allowed in the local-part:</p><pre><code>let local = Local.(v [ w &quot;Romain Calascibetta&quot;; w &quot;to+mrmime&quot; ]) ;;
val local : local = [ `String &quot;Romain Calascibetta&quot;; `Atom &quot;to+mrmime&quot; ]
Local.to_string local ;;
- : string = &quot;\&quot;Romain Calascibetta\&quot;.to+mrmime&quot;</code></pre><p>NOTE: <code>+</code> permits your MUA to tag e-mails received with this local-part.</p><p>Valid UTF-8 string is allowed according RFC 6532 - and will be surrounded by double-quote.</p></aside><div class="spec type" id="type-local" class="anchored"><a href="#type-local" class="anchor"></a><code><span class="keyword">type</span> <span>'a local</span> = </code><table><tr id="type-local.([])" class="anchored"><td class="def variant constructor"><a href="#type-local.([])" class="anchor"></a><code>| <span class="constructor">([])</span> : <span><span class="xref-unresolved">Mrmime__Peano.z</span> <a href="index.html#type-local">local</a></span></code></td></tr><tr id="type-local.(::)" class="anchored"><td class="def variant constructor"><a href="#type-local.(::)" class="anchor"></a><code>| <span class="constructor">(::)</span> : <span class="xref-unresolved">Emile</span>.word * <span><span class="type-var">'a</span> <a href="index.html#type-local">local</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Mrmime__Peano.s</span></span> <a href="index.html#type-local">local</a></span></code></td></tr></table></div><div><div class="spec value" id="val-w" class="anchored"><a href="#val-w" class="anchor"></a><code><span class="keyword">val</span> w : string <span>&#45;&gt;</span> <span class="xref-unresolved">Emile</span>.word</code></div><div><p><a href="index.html#val-w"><code>w</code></a> produces a <b>safe</b> word. <a href="index.html#val-w"><code>w</code></a> will try to escape control characters and verify if contents respects standards. Otherwise, <a href="index.html#val-w"><code>w</code></a> raises an <code>Invalid_argument</code>. <code>`Word</code> produced by <a href="index.html#val-w"><code>w</code></a> can be surrounded by double-quote.</p></div></div><div><div class="spec value" id="val-word" class="anchored"><a href="#val-word" class="anchor"></a><code><span class="keyword">val</span> word : string <span>&#45;&gt;</span> <span><span>(<span class="xref-unresolved">Emile</span>.word, <span>[&gt; <span class="xref-unresolved">Rresult</span>.R.msg ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></code></div><div><p><code>word x</code> tries to normalize <code>x</code> as a <code>`Word</code> according RFC 5322. It returns <code>Error</code> if <code>x</code> does not respect standards. If contents is an UTF-8 contents, <code>word</code> will surround <code>x</code> with double-quote and will escape control characters (see <a href="../index.html#val-escape_string"><code>escape_string</code></a>).</p><p>NOTE: UTF-8 is allowed in e-mails according RFC 6532.</p></div></div><div><div class="spec value" id="val-word_exn" class="anchored"><a href="#val-word_exn" class="anchor"></a><code><span class="keyword">val</span> word_exn : string <span>&#45;&gt;</span> <span class="xref-unresolved">Emile</span>.word</code></div><div><p>Same as <a href="index.html#val-word"><code>word</code></a> but raises an exception instead to return <code>Error</code>.</p></div></div><div><div class="spec value" id="val-coerce" class="anchored"><a href="#val-coerce" class="anchor"></a><code><span class="keyword">val</span> coerce : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Mrmime__Peano.s</span></span> <a href="index.html#type-local">local</a></span> <span>&#45;&gt;</span> <span class="xref-unresolved">Emile</span>.local</code></div><div><p><code>coerce l</code> returns a valid and safe <a href="index.html#type-local"><code>local</code></a>.</p></div></div><div><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <span><span class="type-var">'a</span> <a href="index.html#type-local">local</a></span> <span>&#45;&gt;</span> <span><span>(<span class="xref-unresolved">Emile</span>.local, <span>[&gt; <span class="xref-unresolved">Rresult</span>.R.msg ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></code></div><div><p><code>make l</code> returns a <a href="index.html#type-local"><code>local</code></a> only if <code>l</code> is a non-empty list.</p></div></div><div><div class="spec value" id="val-of_list" class="anchored"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val</span> of_list : <span>string list</span> <span>&#45;&gt;</span> <span><span>(<span class="xref-unresolved">Emile</span>.local, <span>[&gt; <span class="xref-unresolved">Rresult</span>.R.msg ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></code></div><div><p><code>of_list l</code> returns a local-part from a non-empty list of well-formed words. Otherwise, it returns an error.</p></div></div><div><div class="spec value" id="val-v" class="anchored"><a href="#val-v" class="anchor"></a><code><span class="keyword">val</span> v : <span><span class="type-var">'a</span> <a href="index.html#type-local">local</a></span> <span>&#45;&gt;</span> <span class="xref-unresolved">Emile</span>.local</code></div><div><p>Same as <a href="index.html#val-make"><code>make</code></a> but raises an exception instead to return <code>Error</code>.</p></div></div><div><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <span class="xref-unresolved">Emile</span>.local <span>&#45;&gt;</span> string</code></div><div><p><code>to_string x</code> returns a string which represents <code>x</code> as it is in an e-mail.</p></div></div></div></body></html>